#!/usr/bin/env node

const { TimerHookEvent } = require('./lib.ts');

// Read JSON input from stdin
let input = '';
process.stdin.on('data', (chunk) => {
  input += chunk;
});

process.stdin.on('end', () => {
  try {
    const event = JSON.parse(input);
    
    // Echo the timer event
    console.log('Timer Start Event Received:');
    console.log(`Doc: ${event.doc}`);
    console.log(`Line: ${event.line}`);
    console.log(`Type: ${event.type}`);
    console.log('---');
    console.log(JSON.stringify(event, null, 2));
  } catch (error) {
    console.error('Failed to parse JSON input:', error.message);
    process.exit(1);
  }
}); 


